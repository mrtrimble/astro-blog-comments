---
const { slug } = Astro.params;
const commentsPostUrl = [Astro.url.origin, '/api/comments/submit'].join('');
---

<form method="POST" action={commentsPostUrl}>
  <h2>Leave a comment</h2>
  <label for="author">
    Your Name
    <input type="text" name="author" id="author" />
  </label>

  <label for="slug">
    <input type="hidden" name="slug" id="slug" value={slug} />
  </label>

  <label for="content">
    Comment
    <textarea cols="10" rows="10" name="content" id="content"></textarea>
  </label>
  <input type="submit" value="Post Comment" />
</form>

<style scoped>
  form {
    display: grid;
    label {
      display: grid;
      grid-template-rows: '1fr';
    }
    > label + label {
      margin-block-start: 1rem;
    }

    input {
      padding: 0.65rem;
    }

    [type='submit'] {
      margin-block-start: 1rem;
      width: fit-content;
    }
  }
</style>
